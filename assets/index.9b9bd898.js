var z=Object.defineProperty,G=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var P=(n,s,t)=>s in n?z(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t,d=(n,s)=>{for(var t in s||(s={}))K.call(s,t)&&P(n,t,s[t]);if(D)for(var t of D(s))J.call(s,t)&&P(n,t,s[t]);return n},u=(n,s)=>G(n,U(s));import{j as L,R as k,r as h,W as Q,C as X,A as Y,H as Z,a as E,b as B}from"./vendor.3d7044f8.js";const ee=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=t(e);fetch(e.href,i)}};ee();const a=L.exports.jsx,l=L.exports.jsxs,te=()=>a("div",{className:"flex justify-center items-center py-3",children:a("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-700"})});var ne=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_functionsBillingAddress",type:"address"},{internalType:"address",name:"_linkToken",type:"address"},{internalType:"address",name:"_router",type:"address"},{internalType:"bytes32",name:"_donId",type:"bytes32"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"EmptyArgs",type:"error"},{inputs:[],name:"EmptySource",type:"error"},{inputs:[],name:"NoInlineSecrets",type:"error"},{inputs:[],name:"OnlyRouterCanFulfill",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"RequestFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"id",type:"bytes32"}],name:"RequestSent",type:"event"},{inputs:[{internalType:"string",name:"source",type:"string"},{internalType:"enum FunctionsRequest.Location",name:"secretsLocation",type:"uint8"},{internalType:"bytes",name:"encryptedSecretsReference",type:"bytes"},{internalType:"string[]",name:"args",type:"string[]"},{internalType:"bytes[]",name:"bytesArgs",type:"bytes[]"},{internalType:"uint64",name:"subscriptionId",type:"uint64"},{internalType:"uint32",name:"callbackGasLimit",type:"uint32"}],name:"SendRequestWithSecret",outputs:[{internalType:"bytes32",name:"RequestId",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_msgHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"checkSignature",outputs:[{internalType:"bool",name:"_bool",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"donId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"functionsBillingAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_s",type:"string"}],name:"getBytesFromString",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"_b",type:"bytes"}],name:"getBytesHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLatestResponse",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_b",type:"bytes"}],name:"getStringFromBytes",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_s",type:"string"}],name:"getStringHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"bytes",name:"response",type:"bytes"},{internalType:"bytes",name:"err",type:"bytes"}],name:"handleOracleFulfillment",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_msgHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"recoverSigner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"s_lastError",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"s_lastRequestId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"s_lastResponse",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_new",type:"address"}],name:"setValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"validator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];const se="0x0a636f6e737420636f646555726c203d202268747470733a2f2f676973742e67697468756275736572636f6e74656e742e636f6d2f746f6b656e6c696e2f36363139336265633338653133623834313039353132353363346161613330342f7261772f396338393533383831363161336361396238393737666137303339653862313562346439333132612f4574685368656e5a68656e2e747874223b0a0a636f6e737420636f646552657175657374203d2061776169742046756e6374696f6e732e6d616b654874747052657175657374287b0a202075726c3a20636f646555726c0a7d293b0a0a69662028636f6465526571756573742e6572726f7229207b0a2020636f6e736f6c652e6572726f7228636f6465526571756573742e6572726f72293b0a20207468726f77204572726f7228604765742074657874206661696c656460293b0a20207d0a0a6c657420636f6465203d206465636f6465555249436f6d706f6e656e7428636f6465526571756573742e646174612e74657874293b20202f2f206765742074686520636f64650a0a636f6465203d20636f6465202b20225c6e72657475726e205b67657456616c75654d7367686173685369676e61747572655574663841727261795d223b0a636f6e73742072657475726e46756e6374696f6e3d206e65772046756e6374696f6e285b5d2c636f6465293b0a636f6e7374205b67657456616c75654d7367686173685369676e61747572655574663841727261795d203d2072657475726e46756e6374696f6e28293b0a0a0a2f2f20696e70757420617267730a6c6574207072697661746553616c74203d20736563726574732e6170694b65793b0a6c657420636861696e4964203d20617267735b305d3b202f2f204d6f7270682074657374206e65740a6c657420636f6e747261637441646472657373203d20617267735b315d3b20202f2f20616464726573730a6c65742073746f72616765506f736974696f6e203d20617267735b325d3b20202f2f20627974657333320a0a636f6e73742072657475726e557466384172726179203d2061776169742067657456616c75654d7367686173685369676e6174757265557466384172726179287072697661746553616c742c20636861696e49642c20636f6e7472616374416464726573732c2073746f72616765506f736974696f6e2c2046756e6374696f6e73293b0a0a72657475726e2072657475726e5574663841727261793b0a0a0a0a2f2f2072657475726e2046756e6374696f6e732e656e636f6465537472696e672872657475726e537472293b0a0a2f2f206572726f720a2f2f2072657475726e2072657475726e4275666665723b0a0a2f2f206572726f720a2f2f2072657475726e204275666665722e66726f6d2872657475726e557466384172726179293b0a0a0a0a0a0a2f2f206f6b0a2f2f206c65742075696e7438203d206e65772055696e743841727261792832293b0a2f2f2075696e74385b305d203d2039393b0a2f2f2075696e74385b315d203d2034313b0a2f2f2072657475726e2075696e74383b0a0a",ae=ne,re="0x8c21CaE0FbF7D28D4c84ae4430fa1C85eBef50Cd",R=k.createContext(),{ethereum:g}=window,_=()=>{const s=new Q(g).getSigner();return new X(re,ae,s)},ie=n=>{n=n.replaceAll("0x","");let s=n.length;if(s%2==1)throw Error("Invalid string input1");for(let e=0;e<s;e++){let i=n[e].charCodeAt();if(i<48||i>57&&i<65||i>70&&i<97||i>102)throw Error("Invalid string input2")}let t=new Uint8Array(s/2),o=0;for(let e=0;e<s;e=e+2){let i=n.slice(e,e+2);t[o++]=parseInt(i,16)}return t},oe=n=>{for(var s="",t=0;t<n.length;){var o=n[t],e=0;o>>>7==0?(s+=String.fromCharCode(n[t]),t+=1):(o&252)==252?(e=(n[t]&3)<<30,e|=(n[t+1]&63)<<24,e|=(n[t+2]&63)<<18,e|=(n[t+3]&63)<<12,e|=(n[t+4]&63)<<6,e|=n[t+5]&63,s+=String.fromCodePoint(e),t+=6):(o&248)==248?(e=(n[t]&7)<<24,e|=(n[t+1]&63)<<18,e|=(n[t+2]&63)<<12,e|=(n[t+3]&63)<<6,e|=n[t+4]&63,s+=String.fromCodePoint(e),t+=5):(o&240)==240?(e=(n[t]&15)<<18,e|=(n[t+1]&63)<<12,e|=(n[t+2]&63)<<6,e|=n[t+3]&63,s+=String.fromCodePoint(e),t+=4):(o&224)==224?(e=(n[t]&31)<<12,e|=(n[t+1]&63)<<6,e|=n[t+2]&63,s+=String.fromCharCode(e),t+=3):(o&192)==192?(e=(n[t]&63)<<6,e|=n[t+1]&63,s+=String.fromCharCode(e),t+=2):(s+=String.fromCharCode(n[t]),t+=1)}return s},le=({children:n})=>{const[s,t]=h.exports.useState({chainId:"",contractAddress:"",storagePosition:"",requestId:"",storageValue:"",proof:"",proofVerified:""}),[o,e]=h.exports.useState(""),[i,c]=h.exports.useState({deposit:!1,withdraw:!1}),[S,f]=h.exports.useState({deposit:"",withdraw:""}),[x,N]=h.exports.useState(""),w=(r,p)=>{t(m=>u(d({},m),{[p]:r.target.value}))},V=async()=>{try{if(!g)return alert("Please install MetaMask.");const r=await g.request({method:"eth_accounts"});r.length?(e(r[0]),W()):console.log("No accounts found")}catch(r){console.log(r)}},W=async()=>{try{if(g){const r=localStorage.getItem("requestIdLocal");if(r=="")return;const m=await _().getLatestResponse(),[y,C,q]=m;let b="",A="";C!="0x"&&(b=C.replaceAll("0x",""),A="0x"+b.slice(0,64)),console.log("requestId: ",r),console.log("s_lastRequestId: ",y),console.log("requestId == s_lastRequestId: ",r==y),r==y&&(console.log("requestId == s_lastRequestId: ",r==y),b!=""&&(t(I=>u(d({},I),{storageValue:A})),t(I=>u(d({},I),{proof:"0x"+b})),window.localStorage.setItem("requestIdLocal","")))}}catch(r){throw console.log(r),new Error("No ethereum object")}},F=async()=>{try{if(!g)return alert("Please install MetaMask.");const r=await g.request({method:"eth_requestAccounts"});e(r[0]),window.location.reload()}catch(r){throw console.log(r),new Error("No ethereum object")}},O=async()=>{try{if(g){window.localStorage.setItem("requestId","");const{chainId:r,contractAddress:p,storagePosition:m}=s,y=_();if(r==""||p==""||m==""){console.log("chainId, contractAddress, storagePosition can not be empty");return}const C=oe(ie(se)),q=[r,p,m],b=3e5,A="0x7383e9ecab75f5b7e21509e90b20ed7a0259489ed4ec0de1aaea6c4d12fd55f40a98b6dc06b51c115ea651fe4a04c82da00f54c75dc44763bde0da4d8ac272c8cf8125833c84c3ef2a38a6e586ccf4d4ed8f41c96c725e00ca240930cb3a1984075d09b9b0c04965330e77a5b9097f928e844b47e65bb137ff77433138d535d198efb402e60ea97c4a33ac14a01168c93d83662b8bbcdcd1e6a560e81092183ab3f6bf15ef33db6fdebf9a6479aa8fc53392f123d2b2ab48ba8a3e7912568f2c4dc64d0cb2ff97381f5d448a26b6b489414d99108c6998581bddc4da6f6c21f60a337930060feb2e7a54d71c1f8203aae0",I="1759",$={Remote:1},M=await y.SendRequestWithSecret(C,$.Remote,A,q,[],I,b);c(v=>u(d({},v),{deposit:!0})),f(v=>u(d({},v),{deposit:""})),console.log(`Loading hash- ${M.hash}`);const j=(await M.wait()).events[2].args.id;window.localStorage.setItem("requestIdLocal",j),t(v=>u(d({},v),{requestId:j})),console.log(`Success hash- ${M.hash}`),console.log(`requestId- ${j}`),c(v=>u(d({},v),{deposit:!1}))}else console.log("No ethereum object"),f(r=>u(d({},r),{deposit:"No ethereum object"}))}catch(r){throw console.log(r),f(p=>u(d({},p),{deposit:"Deposit error: "+r.message})),new Error("sendTransactionDeposit error")}},H=async()=>{try{if(g){let{proof:r}=s,p="",m="",y="";if(r!=""){r=r.replaceAll("0x",""),p="0x"+r.slice(0,64),m="0x"+r.slice(64,128),y="0x"+r.slice(128,r.length);const q=await _().checkSignature(m,y);t(b=>u(d({},b),{proofVerified:q}))}else console.log("no proof updated")}else console.log("No ethereum object"),f(r=>u(d({},r),{deposit:"No ethereum object"}))}catch(r){throw console.log(r),new Error("requestToVerifyProof error")}};return h.exports.useEffect(()=>{setInterval(()=>{V()},3e3)},[]),a(R.Provider,{value:{connectWallet:F,currentAccount:o,isLoading:i,errMsg:S,response:x,sendTransactionDeposit:O,requestToVerifyProof:H,handleChange:w,formData:s},children:n})},ce=n=>`${n.slice(0,5)}...${n.slice(n.length-4)}`,de=({title:n,classprops:s})=>a("li",{className:`mx-4 cursor-pointer ${s}`,children:n}),ue=()=>{const{currentAccount:n,connectWallet:s,handleChange:t,sendTransactionDeposit:o,sendTransactionTransfer:e,sendTransactionWithdraw:i,formData:c,isLoading:S}=h.exports.useContext(R),[f,x]=k.useState(!1);return l("nav",{className:"w-full flex md:justify-center justify-between items-center p-4",children:[a("div",{className:"md:flex-[0.5] flex-initial justify-center items-center"}),l("ul",{className:"text-white md:flex hidden list-none flex-row justify-between items-center flex-initial",children:[!n&&l("button",{type:"button",onClick:s,className:"flex flex-row justify-center items-center my-5 bg-[#2952e3] p-3 rounded-full cursor-pointer hover:bg-[#2546bd]",children:[a(Y,{className:"text-white mr-2"}),a("p",{className:"text-white text-base font-semibold",children:"Connect Wallet"})]}),n&&a("button",{type:"button",className:"text-white w-full mt-2 border-[1px] p-2 border-[#3d4f7c] hover:bg-[#3d4f7c] rounded-full cursor-pointer",children:l("p",{className:"text-white text-base font-semibold",children:["Wallet: ",ce(n)]})})]}),l("div",{className:"flex relative",children:[!f&&a(Z,{fontSize:28,className:"text-white md:hidden cursor-pointer",onClick:()=>x(!0)}),f&&a(E,{fontSize:28,className:"text-white md:hidden cursor-pointer",onClick:()=>x(!1)}),f&&l("ul",{className:"z-10 fixed -top-0 -right-2 p-3 w-[70vw] h-screen shadow-2xl md:hidden list-none flex flex-col justify-start items-end rounded-md blue-glassmorphism text-white animate-slide-in",children:[a("li",{className:"text-xl w-full my-2",children:a(E,{onClick:()=>x(!1)})}),["Market","Exchange","Tutorials","Wallets"].map((N,w)=>a(de,{title:N,classprops:"my-2 text-lg"},N+w))]})]})]})},T=({placeholder:n,name:s,type:t,value:o,handleChange:e,ifDisabled:i})=>i=="true"?a("input",{placeholder:n,type:t,step:"0.001",value:o,onChange:c=>e(c,s),disabled:!0,className:"my-2 w-full rounded-sm p-2 outline-none bg-transparent text-white border-none text-sm white-glassmorphism"}):a("input",{placeholder:n,type:t,step:"0.001",value:o,onChange:c=>e(c,s),className:"my-2 w-full rounded-sm p-2 outline-none bg-transparent text-white border-none text-sm white-glassmorphism"}),fe=()=>{const{response:n,currentAccount:s,connectWallet:t,handleChange:o,sendTransactionDeposit:e,requestToVerifyProof:i,formData:c,isLoading:S,errMsg:f}=h.exports.useContext(R),x=w=>{w.preventDefault(),console.log("depositSubmit"),e()},N=w=>{w.preventDefault(),i()};return a("div",{className:"flex w-full justify-center items-center",children:l("div",{className:"flex mf:flex-row flex-col items-start justify-between md:p-20 py-12 px-4",children:[l("div",{className:"flex flex-1 justify-start items-start flex-col mf:mr-10",children:[l("h1",{className:"text-3xl sm:text-5xl text-white text-gradient py-1",children:["Eth Data Share  ",a("br",{})," for the whole Ethereum Ecosystem"]}),a("p",{className:"text-left mt-5 text-white font-light md:w-9/12 w-11/12 text-base",children:"Connect the whole ethereum ecosystem."})]}),a("div",{className:"flex flex-col flex-1 items-center justify-start w-full mf:mt-0 mt-10",children:l("div",{className:"p-5 sm:w-96 w-full flex flex-col justify-start items-center blue-glassmorphism",children:[a(T,{placeholder:"chainId: 2810",name:"chainId",type:"text",handleChange:o,ifDisabled:""}),a(T,{placeholder:"contractAddress: 0xfC391a10dA60A6940F2d6d89D2b744aa4d796a68",name:"contractAddress",type:"topics0",handleChange:o,ifDisabled:""}),a(T,{placeholder:"storagePosition: 0x3",name:"storagePosition",type:"text",handleChange:o,ifDisabled:""}),S.deposit?a(te,{}):l("div",{children:[a("button",{type:"button",onClick:x,className:"text-white w-full mt-2 border-[1px] p-2 border-[#3d4f7c] hover:bg-[#3d4f7c] rounded-full cursor-pointer",children:"Send Request to Get Proof"}),a(T,{placeholder:"requestId: 0x...",id:"disabled-input","aria-label":"disabled input",ifDisabled:"true",value:c.requestId,name:"requestId",type:"text",handleChange:o}),a(T,{placeholder:"storageValue: 0x...",id:"disabled-input","aria-label":"disabled input",ifDisabled:"true",value:c.storageValue,name:"storageValue",type:"text",handleChange:o}),a(T,{placeholder:"proof: 0x...",id:"disabled-input","aria-label":"disabled input",ifDisabled:"true",value:c.proof,name:"proof",type:"text",handleChange:o}),l("ul",{className:"border-b-2 border-white grid grid-cols-2 gap-3 py-3 items-center",children:[a("li",{children:a("button",{type:"button",onClick:N,className:"text-white w-full mt-2 border-[1px] p-2 border-[#3d4f7c] hover:bg-[#3d4f7c] rounded-full cursor-pointer",children:"Verify Proof"})}),a("li",{children:a(T,{id:"disabled-input","aria-label":"disabled input",value:c.proofVerified,ifDisabled:"true",name:"proofVerified",type:"text",handleChange:o})})]})]}),f.deposit!=""&&a("p",{className:"text-left mt-5 text-red-500 font-light md:w-9/12 w-11/12 text-base",children:f.deposit})]})})]})})},pe=()=>l("div",{className:"w-full flex md:justify-center justify-between items-center flex-col p-4 gradient-bg-footer",children:[a("div",{className:"w-full flex sm:flex-row flex-col justify-between items-center my-4"}),l("div",{className:"flex justify-center items-center flex-col mt-5",children:[a("p",{className:"text-white text-sm text-center",children:"Come join us and hear for the unexpected miracle"}),a("p",{className:"text-white text-sm text-center font-medium mt-2",children:"lkw040535@gmail.com"})]}),a("div",{className:"sm:w-[90%] w-full h-[0.25px] bg-gray-400 mt-5 "}),l("div",{className:"sm:w-[90%] w-full flex justify-between items-center mt-3",children:[a("p",{className:"text-white text-left text-xs",children:"@0xkevinlin"}),a("p",{className:"text-white text-right text-xs",children:"All rights reserved"})]})]}),me=()=>l("div",{className:"min-h-screen",children:[l("div",{className:"gradient-bg-welcome",children:[a(ue,{}),a(fe,{})]}),a(pe,{})]});B.render(a(le,{children:a(me,{})}),document.getElementById("root"));
